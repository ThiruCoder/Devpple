(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5025],{25025:function(e,t,s){"use strict";s.d(t,{t:function(){return Q}}),(a=i||(i={})).ADD_ANOTHER_CAMPER="addAnotherCamper",a.CAMP_LIST="campList",a.DISCOVER_MORE="discoverMore",a.I_CAL="iCal",a.JOIN_NOW="joinNow",a.SMS_REMINDER="smsText",a.WALLET_PASS_URL="walletPassUrl";var a,i,r=s(33509),o=s(57437),l=s(2265),n=s(21652),c=s.n(n),u=s(70764),d=s.n(u),p=s(84772),h=s.n(p),g=s(35088),m=s(40125);let E=e=>{let{url:t,text:s,onClick:a}=e,i=t instanceof Object?t.href:null==t?void 0:t.toString();return(0,o.jsx)("p",{className:"page-status-discover-more",children:(0,o.jsx)(m.zx,{className:"pill-large",href:i,onClick:a,children:s})})};var S=s(31642),_=s(686);let v=e=>{var t;let{heading:s,description:a,link:i}=e,{analyticsService:r}=(0,_.Z)(),l=i&&i.url instanceof Object?i.url.href:null==i?void 0:null===(t=i.url)||void 0===t?void 0:t.toString();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"column large-10 large-push-1 medium-10 small-12 small-push-0",children:(0,o.jsx)("hr",{className:"business-section-separator","aria-hidden":"true"})})}),(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"column large-8 large-offset-1 medium-8 small-10",children:[(0,o.jsx)("h2",{className:"typography-label",children:s}),(0,o.jsx)("p",{className:"typography-body",children:a}),(0,o.jsx)(S.N,{includeLocationParameter:!0,href:l,className:"more",onClick:()=>{null==r||r.trackEvent({title:"have us contact you",prop3:"t@a - have us contact you"})},children:i.text})]})})]})};var R=s(13192),k=s(24809),L=s(720),C=s(18285),N=s(82660),f=s(60558),T=s.n(f);let A={[R.Z.de_AT]:"DE-DECH-DEAT",[R.Z.de_CH]:"DE-DECH-DEAT",[R.Z.de_DE]:"DE-DECH-DEAT",[R.Z.en_AE]:"EN",[R.Z.en_AU]:"EN",[R.Z.en_CA]:"EN",[R.Z.en_GB]:"EN",[R.Z.en_HK]:"EN",[R.Z.en_IN]:"EN",[R.Z.en_MY]:"EN",[R.Z.en_SG]:"EN",[R.Z.en_US]:"EN",[R.Z.es_ES]:"ES",[R.Z.es_MX]:"ESMX",[R.Z.fr_BE]:"FR-FRCA-FRBE-FRCH",[R.Z.fr_CA]:"FR-FRCA-FRBE-FRCH",[R.Z.fr_CH]:"FR-FRCA-FRBE-FRCH",[R.Z.fr_FR]:"FR-FRCA-FRBE-FRCH",[R.Z.it_IT]:"IT",[R.Z.ja_JP]:"JP",[R.Z.ko_KR]:"KR",[R.Z.nl_BE]:"NL-NLBE",[R.Z.nl_NL]:"NL-NLBE",[R.Z.pt_BR]:"PTBR",[R.Z.sv_SE]:"SE",[R.Z.th_TH]:"TH",[R.Z.tr_TR]:"TR",[R.Z.zh_CN]:"ZHCN-ZHTW",[R.Z.zh_HK]:"ZHHK-ZHMO",[R.Z.zh_MO]:"ZHHK-ZHMO",[R.Z.zh_TW]:"ZHCN-ZHTW"},w=(0,N.aD)(e=>{let{viewportData:t,href:s,label:a="Add to Apple Wallet",className:i}=e,{currentLocale:r}=(0,k.Z)(),l=A[r.id],n=t.retina?"_2x":"",c=new C.bK().withProp3("t@a - add to apple wallet").withEventDetails().build(),u={style:{backgroundImage:'url("'.concat("/today/assets/images/walletPass/ataw__rgb","_").concat(l).concat(n,'.png")')}};return(0,o.jsx)(L.ib,{analyticsAttr:c,href:s,className:h()(T()["add-to-apple-wallet"],i),tagProps:u,children:(0,o.jsx)("span",{children:a})})},"WalletPassWithViewportEmitter");var y=s(59323),x=s(86237);let O=new C.bK,M={[i.I_CAL]:"t@a - add to calendar",[i.JOIN_NOW]:"t@a - join now",[i.ADD_ANOTHER_CAMPER]:"t@a - add another camper"};function I(e,t){let s=e&&M[e];return e&&t&&s?{analyticsAttr:O.resetTrackers().withTitle("clicked on ".concat(e)).withEventDetails().withProp3(s).build(),analyticsData:{storeNum:t.storeNum||"",programName:t.prefix||"",scheduleName:t.name||"",sessionTime:new Date(t.startTime||0).toUTCString()}}:{analyticsAttr:""}}let P=e=>{var t;let{links:s,clickHandlers:a,schedule:r,openSMSModal:l}=e,{analyticsService:n}=(0,_.Z)(),c=(0,x.Z)(),{iCal:u,addAnotherCamper:d,campList:p,walletPassUrl:g,joinNow:m,smsText:E}=s,v=Object.keys(s),R=h()("pill","pill-large","pill-active","join-now",{"pill-disabled":m&&m.disabled});v.forEach(e=>{s[e]&&"string"!=typeof s[e]&&"boolean"!=typeof s[e]&&(s[e].name=e)});let k=[E,u,d,p].filter(Boolean),C=!!g&&!!g.url&&c.isWalletPassSupportedByPlatform(),N=h()("typography-body",u&&"rsvp-success-cta",C&&"with-wallet-pass"),f=(e,t)=>{"addAnotherCamper"===t&&(null==a?void 0:a.onNewReservationClick)?a.onNewReservationClick():"smsText"===t?l():t&&(null==n||n.trackEvent(O.withTitle("clicked on ".concat(t)).withEventDetails().withProp3(M[t]).trackers))};return(0,o.jsxs)("p",{className:N,children:[m&&(0,o.jsx)(L.ib,{...I(i.JOIN_NOW,r),className:R,disabled:m.disabled,onClick:()=>{var e;return(null==a?void 0:a.onJoinNowClick)&&a.onJoinNowClick(null==m?void 0:null===(e=m.url)||void 0===e?void 0:e.toString())},isButton:!0,tagProps:{target:"_blank"},children:m.text}),k.map((e,t)=>{var s,a;let i=null!==(a=null===(s=e.url)||void 0===s?void 0:s.pathname)&&void 0!==a?a:e.url,l=t=>f(t,null==e?void 0:e.name);return(null==e?void 0:e.url)&&(0,o.jsx)("span",{className:"reservation-action-item",children:"addAnotherCamper"===e.name?(0,o.jsx)(L.ib,{includeLocationParameter:!0,className:"more",href:i,onClick:l,...I(e.name,r),children:e.text}):(0,o.jsx)(S.N,{includeLocationParameter:!0,className:"smsText"===e.name?"more sms-link":"more",href:i,onClick:l,tagProps:"smsText"===e.name?y.y.getTextReminders:{},isButton:"smsText"===e.name,children:e.text})},t)}),C&&(0,o.jsx)(w,{href:(null===(t=g.url)||void 0===t?void 0:t.toString())||""})]})};var b=s(93213),D=s(45786),U=s(27485),j=s(38452),F=s(82538),J=s(77353);let Z={isErrorStatus:!0,showSocialLinks:!1,headline:"details.status-error-generic-title",copy:"details.status-error-generic-description"},B={isErrorStatus:!1,showSocialLinks:!1,headline:"details.status-in-progress-attendee-title"},H={isErrorStatus:!1,showSocialLinks:!1,headline:"details.status-starting-soon-title"},W={isErrorStatus:!1,showSocialLinks:!1,headline:"details.status-success-title"},V={isErrorStatus:!1,showSocialLinks:!1,headline:"",copy:"details.status-success-copy-online"},G={isErrorStatus:!1,isPlusOneStatus:!0,showSocialLinks:!1,headline:"details.status-success-title"};var Y=s(44521);class K{getMappings(e){let t,{scheduleType:s,reservation:a,course:i,location:r,schedule:o,schedules:l,groupBookingInformation:n}=e,c=!!((null==i?void 0:i.plusOneBookingEnabled)&&!(null==n?void 0:n.isGroupBooking)),u=(0,D.o)(s)&&[b.Jr.RESERVED,b.Jr.ALREADY_RESERVED,b.Jr.CONFIRMED,b.Jr.IN_PROGRESS_ATTENDEE].includes(a.status);if(a.status===b.Jr.CONFIRMED)t=this.getConfirmationMappings(o&&o.icalUrl||"");else if(a.status===b.Jr.COORDINATOR_CONFIRMED||a.status===b.Jr.COORDINATOR_CONFIRMED_YOUTH){let e=o&&o.icalUrl||"";t=this.getConfirmationMappingsCoordinator(e,a.status===b.Jr.COORDINATOR_CONFIRMED_YOUTH,a.walletPassUrl||"")}else t=u?o&&l&&this.getVirtualMappings(a,o,l):(0,F.Ag)(a.status)?this.getErrorMappings(c,s,a):a.status===b.Jr.WAITLIST?o&&s&&this.getWaitlistMappings(c,s):s&&this.getSuccessMappings(s,a,c,!!(null==n?void 0:n.isGroupBooking));let{urlStageRootPath:d,id:p}=this.currentLocale;return this.evaluateMappedValues(t,{courseSlug:i&&i.urlTitle,scheduleId:a.workshopId,storeNumber:a.storeNumber||(null==r?void 0:r.storeNum)||"",locale:p,storeLocation:r&&r.slug,stageRootPath:d})}evaluateMappedValues(e,t){let s={};for(let a in e)if(e.hasOwnProperty(a)){let i=e[a]instanceof Object&&"function"!=typeof e[a]?this.evaluateMappedValues(e[a],t):this.i18n.values(e[a])||e[a];if((i||{}).url){let e=null;i.url instanceof Object?e={...i.url,pathname:(0,j.Vf)(i.url.pathname||"",t)}:"string"==typeof i.url&&(e=(0,j.Vf)(i.url,t)),s[a]={...i,text:i.text,url:e}}else s[a]=i}return s}getConfirmationMappings(e){return{...this.mappingConfig.confirmationMappings,iCal:this.getICalLink(e)}}getConfirmationMappingsCoordinator(e,t,s){return{...t?this.mappingConfig.confirmationMappingsCoordinatorYouth:this.mappingConfig.confirmationMappingsCoordinator,iCal:this.getICalLink(e),walletPassUrl:this.getWalletPassUrl(s),smsText:this.smsTextLink(!0)}}getErrorMappings(e,t,s){let a;return a=e&&s?this.getPlusOneRegistrationErrorMappings(s):t===b.tw.CAMPS?this.mappingConfig.campRegistrationErrorMappings:this.defaultEventTypesRegistrationErrorMappings(s),s&&a[s.status]||a[b.Jr.GENERIC_ERROR]}getSuccessMappings(e,t,s,a){let{iCalLink:i,walletPassUrl:r}=t,o=0===t.numberOfPlusOnes,l=this.mappingConfig.successMappings;if(s&&void 0!==t.numberOfPlusOnes&&t.numberOfPlusOnes>=0){l={...this.mappingConfig.successMappingsPlusOneRegistration,attendees:o?void 0:this.getAttendees(t),iCal:this.getICalLink(i),walletPassUrl:this.getWalletPassUrl(r),smsText:this.smsTextLink()},t.isGuestRegistration||(l={...l,smsText:this.smsTextLink(!0)});let e=t.isGuestRegistration?"details.status-success-plus-one-description-guest":"details.status-success-plus-one-description";return{...l,copy:e}}return(t.role===J.G.PARTICIPANT||a&&!t.role)&&(l=t.isGuestRegistration?{...this.mappingConfig.successMappingGroupBookingAttendeeEmail,iCal:this.getICalLink(i),smsText:this.smsTextLink()}:{...this.mappingConfig.successMappingGroupBookingAttendeeIDMS,iCal:this.getICalLink(i),smsText:this.smsTextLink(!0)}),a||(l=t.isGuestRegistration?{...l,copy:"details.status-success-copy",smsText:this.smsTextLink()}:{...l,copy:"details.status-success-copy",smsText:this.smsTextLink(!0)}),e===b.tw.CAMPS&&(l={...l,addAnotherCamper:{text:"global.link-title-register-another-camper",url:{pathname:this.generateAddAnotherCamperURL()}}}),{...l,iCal:this.getICalLink(i),walletPassUrl:this.getWalletPassUrl(r)}}getVirtualMappings(e,t,s){let a;let{eventUrl:i,iCalLink:r,walletPassUrl:o}=e,{eventInSession:l,eventStartingSoon:n}=(0,F.hR)(t,15),c=s&&Object.keys(s).filter(e=>e!==t.id).length>0;return a={...this.mappingConfig.successMappingVirtual,headline:this.i18n.compileValue("details.status-success-title-online",{dateTime:t.displayDate&&"".concat(t.displayDate[0].fullDateLongDay)}),joinNow:{disabled:!n&&!l,text:"global.cta-join-now",url:i},iCal:this.getICalLink(r),walletPassUrl:this.getWalletPassUrl(o),smsText:this.smsTextLink(!0)},(n||l)&&!c&&!i?a={...this.mappingConfig.brokenEventUrlMoreToDiscover}:(n||l)&&c&&!i?a={...this.mappingConfig.brokenEventUrl}:n?a={joinNow:a.joinNow,...this.mappingConfig.startingSoonMappingVirtual}:l&&(a={joinNow:a.joinNow,...this.mappingConfig.inProgressMappingVirtualAttendee}),{...a}}getWaitlistMappings(e,t){return t===b.tw.CAMPS?{...this.mappingConfig.waitlistRegistrationMapping,copy:"details.status-success-camp-waitlist-copy",addAnotherCamper:{text:"global.link-title-register-another-camper-waitlist",url:{pathname:this.generateAddAnotherCamperURL()}}}:this.getErrorMappings(e,t)}generateAddAnotherCamperURL(){return this.config.getPageRoute(b.q.CAMP_REGISTRATION)}generateCampListURL(){return this.i18n.value("staticEvents.camp-learn-more.url")}generateLandingPageURL(){return this.config.getPageRoute(b.q.DISCOVER)}showLocationSelector(){if(this.components&&this.components.getLocationSelector){let e=this.components.getLocationSelector();e.current&&e.current.showModal&&e.current.showModal()}}defaultEventTypesRegistrationErrorMappings(e){let t=e&&e.iCalLink?this.getICalLink(e.iCalLink):void 0,s=e&&e.walletPassUrl?this.getWalletPassUrl(e.walletPassUrl):void 0,a=this.generateLandingPageURL();return{...this.mappingConfig.commonRegistrationErrorMappings,[b.Jr.ALREADY_RESERVED]:{isErrorStatus:!0,showSocialLinks:!0,headline:"error.already-reserved",walletPassUrl:s,iCal:t,smsText:this.smsTextLink(!0)},[b.Jr.PARTICIPANT_ALREADY_RESERVED]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.already-reserved",copy:"error.already-reserved-description",walletPassUrl:s,iCal:t,smsText:this.smsTextLink(!0)},[b.Jr.CONFIRMATION_ERROR]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.session-not-found",copy:"error.session-not-found-details",discoverMore:{text:"global.cta-learn-more",url:a}},[b.Jr.NON_RSVP]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.generic-reservation",discoverMore:{text:"global.cta-learn-more",url:a}},[b.Jr.NOT_GUEST_RESERVABLE]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.generic-sorry",copy:"error.try-apple-id"},[b.Jr.REQUEST_REJECTED]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.generic-sorry",copy:"error.try-apple-id"}}}getPlusOneRegistrationErrorMappings(e){let{iCalLink:t,walletPassUrl:s}=e;return{...this.mappingConfig.commonRegistrationErrorMappings,[b.Jr.ALREADY_RESERVED]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.already-reserved",attendees:this.getAttendees(e),iCal:this.getICalLink(t),walletPassUrl:this.getWalletPassUrl(s),isPlusOneStatus:!0,smsText:this.smsTextLink(!0)}}}getICalLink(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{text:"global.link-title-add-to-calendar",url:e}}getWalletPassUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{text:"",url:e}}smsTextLink(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(0,Y.j)())return{};let t="/cn"===this.currentLocale.stageRootPath,s=new URL(window.location.href);s.searchParams.set(j.az.SMS,"true");let a=s.href.split("?"),i=a[a.length-1];return e||!t?{text:"global.cta-sms-reminders",url:"?"+i}:{}}getAttendees(e){let t;let{numberOfPlusOnes:s}=e;return 1===s?t=this.i18n.value("details.status-success-attendees-info-singular"):s&&s>1&&(t=(0,U.kM)(this.i18n.value("details.status-success-attendees-info-plural"),{count:s})),t}constructor(e,t,s,a){this.i18n=e,this.config=t,this.currentLocale=s,this.components=a,this.mappingConfig=function(e){let{callbacks:t,urls:s}=e,a={[b.Jr.CANCELLED]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.session-cancelled",discoverMore:{text:"global.cta-learn-more",url:s.landingPage},markForAnalytics:!0},[b.Jr.UNAVAILABLE]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.session-past",discoverMore:{text:"global.cta-learn-more",url:s.landingPage},markForAnalytics:!0},[b.Jr.FULL]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.session-full",discoverMore:{text:"global.cta-learn-more",url:s.landingPage},markForAnalytics:!0},[b.Jr.FULL_NO_MORE_SESSIONS]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.session-full-location",markForAnalytics:!0,discoverMore:{text:"global.cta-learn-more",url:s.landingPage}},[b.Jr.LIMIT]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.limit-reached"},[b.Jr.GENERIC_ERROR]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.generic-reservation",discoverMore:{text:"global.cta-learn-more",url:s.landingPage}},[b.Jr.NO_AVAILABLE_SESSIONS_FOR_SELECTED_LOCALE_AND_COURSE]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.no-sessions-for-location",discoverMore:{text:"global.cta-change-location",onClick:t.showLocationSelector}},[b.Jr.THIS_SESSION_NOT_AVAILABLE_TRY_ANOTHER]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.session-not-available-more",markForAnalytics:!0},[b.Jr.NO_AVAILABLE_SESSIONS_FOR_COURSE]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.session-not-available-try-location",discoverMore:{text:"global.cta-change-location",onClick:t.showLocationSelector}},[b.Jr.IN_PROGRESS]:{isErrorStatus:!0,showSocialLinks:!1,headline:"details.status-in-progress-title"},[b.Jr.IN_PROGRESS_ATTENDEE]:{isErrorStatus:!0,showSocialLinks:!1,headline:"details.status-in-progress-attendee-title"},[b.Jr.IN_PROGRESS_NO_MORE_SESSIONS]:{isErrorStatus:!0,showSocialLinks:!1,headline:"details.status-in-progress-discover-more-title",discoverMore:{text:"global.cta-learn-more",url:s.landingPage}},[b.Jr.HAS_ENDED]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.session-not-available-more"},[b.Jr.HAS_ENDED_NO_MORE_SESSIONS]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.session-not-available",discoverMore:{text:"global.cta-learn-more",url:s.landingPage}}},i={isErrorStatus:!1,showSocialLinks:!0,headline:"details.status-success-title",discoverMore:{text:"details.cta-social-share",url:s.landingPage}};return{brokenEventUrl:Z,brokenEventUrlMoreToDiscover:{isErrorStatus:!0,showSocialLinks:!1,headline:"details.status-error-generic-title",copy:"details.status-error-generic-find-more-description",discoverMore:{text:"global.cta-learn-more",url:s.landingPage}},campRegistrationErrorMappings:{...a,[b.Jr.IN_PROGRESS]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.camp-in-progress",discoverMore:{text:"global.cta-other-camps",url:"staticEvents.camp-learn-more-url"}},[b.Jr.CLOSED]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.camp-closed",discoverMore:{text:"global.cta-other-camps",url:"staticEvents.camp-learn-more-url"}},[b.Jr.NON_RSVP]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.camp-closed",discoverMore:{text:"global.cta-other-camps",url:s.landingPage}},[b.Jr.ALREADY_RESERVED]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.already-reserved-camp"},[b.Jr.SESSION_LIMIT]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.camp-limit-reached",campList:{text:"global.cta-learn-more",url:s.campList}},[b.Jr.HOLD_WAITLIST_FULL]:{isErrorStatus:!0,showSocialLinks:!1,headline:"error.camp-waitlist-full",discoverMore:{text:"global.cta-other-camps",url:"staticEvents.camp-learn-more-url"}}},commonRegistrationErrorMappings:a,confirmationMappings:{isErrorStatus:!0,showSocialLinks:!1,headline:"registration-form.glad-coming",copy:"registration-form.thanks-signup",discoverMore:{text:"global.cta-learn-more",url:s.landingPage}},confirmationMappingsCoordinator:{isErrorStatus:!0,showSocialLinks:!1,headline:"details.status-success-group-booking-title",copy:"details.status-success-group-booking-description"},confirmationMappingsCoordinatorYouth:{isErrorStatus:!1,showSocialLinks:!1,headline:"details.status-success-group-booking-title-youth",copy:"details.status-success-group-booking-description-youth"},inProgressMappingVirtualAttendee:B,startingSoonMappingVirtual:H,successMappingGroupBookingAttendeeEmail:W,successMappingGroupBookingAttendeeIDMS:{isErrorStatus:!1,showSocialLinks:!1,headline:"details.status-success-title",copy:"details.status-success-copy"},successMappingVirtual:V,successMappings:i,successMappingsPlusOneRegistration:G,waitlistRegistrationMapping:{isErrorStatus:!1,showSocialLinks:!0,headline:"details.status-success-camp-waitlist-title"}}}({callbacks:{showLocationSelector:this.showLocationSelector},urls:{campList:this.generateCampListURL(),landingPage:this.generateLandingPageURL()}})}}(0,r.__decorate)([g.m],K.prototype,"showLocationSelector",null);var z=s(85175),q=s(11828),X=s(70174);s(95942);class Q extends l.Component{setFocus(){setTimeout(()=>{this.focusElement&&this.focusElement.current&&(this.focusElement.current.focus(),this.removeTabIndexAttribute())},this.ANIMATION_TIMEOUT+this.ACCESSIBILITY_SET_FOCUS_DELAY)}removeTabIndexAttribute(){setTimeout(()=>{this.focusElement&&this.focusElement.current&&this.focusElement.current.removeAttribute("tabindex")},this.ACCESSIBILITY_SET_FOCUS_DELAY)}errorAnalyticsTracking(e){let{analyticsService:t}=this.props;null==t||t.trackEvent(new C.bK().withTitle("Page Status Errors").addPropToTrackers("eVar152",e).trackers)}confirmationAnalyticsTracking(e,t,s){let{analyticsService:a}=this.props;null==a||a.trackEvent(new C.bK().addPropToTrackers("pageName","today - session confirmation").withTitle("Confirmation page").withEvar47(e?C.S6.GUEST:C.S6.IDMS).withEvar80(s.storeNum).withEvar81(t.prefix).withEvar82(t.name).withEvar83(new Date(s.startTime||0).toUTCString()).trackers)}render(){let{pageName:e,showBusinessSection:t,reservation:s,storeInfo:a,socialLinks:i,schedule:r,course:l,pageUrl:n,clickHandlers:c,openSMSModal:u,i18n:d,className:p,groupBookingInformation:{isGroupBooking:g,isYouth:m}={}}=this.props;if(!s||!a||m&&s.role&&s.role!==b.GD.COORDINATOR)return null;let{locale:S,storeNum:_}=a,R=this.pageStatusMappings.getMappings(this.props),{isErrorStatus:k,isPlusOneStatus:L,headline:C,copy:N,attendees:f,iCal:T,discoverMore:A,showSocialLinks:w}=R,y=h()("section","section-status",this.state.isDisplayed&&"intro-status-animation",p),x=h()("page-status-headline","typography-callout",T&&"rsvp-success"),O=[],M=d.value("details.cta-social-share");return s&&s.status!==b.Jr.GENERIC_ERROR&&s.status!==b.Jr.CONFIRMATION_ERROR&&(O=(null==i?void 0:i.default)||[],(null==l?void 0:l.plusOneBookingEnabled)&&(s.numberOfPlusOnes||0)>0&&(M=d.value("global.cta-share-invite"),O=(null==i?void 0:i.plusOne)||[]),g&&(null==i?void 0:i.groupBooking)&&(O=null==i?void 0:i.groupBooking)),(0,o.jsx)("section",{className:y,children:(0,o.jsxs)("div",{className:"section-content",children:[(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"column large-8 large-offset-1 medium-9 small-centered small-10",children:[C&&(0,o.jsx)("div",{tabIndex:-1,ref:this.focusElement,id:"page-status-headline",className:x,dangerouslySetInnerHTML:{__html:C}}),N&&(0,o.jsx)("p",{className:"typography-body",dangerouslySetInnerHTML:{__html:N}}),L&&f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"attendees-title",children:d.value("details.status-success-attendees-title")}),(0,o.jsx)("div",{className:"attendees-info",children:f})]}),L&&O&&(0,o.jsx)(z.v,{pageName:e,className:"invite-attendees",label:M,idPrefix:"page-status",social:O,schedule:r,course:l,storeState:a,pageUrl:n}),[b.Jr.COORDINATOR_CONFIRMED,b.Jr.COORDINATOR_CONFIRMED_YOUTH].includes(s.status)&&(0,o.jsx)("div",{id:"status-share-container",className:"static",children:(0,o.jsx)(q.S,{idPrefix:"page-status",pageName:e,social:O,schedule:r,course:l,store:a,pageUrl:n,autoFocus:!0,reservation:s,deliveryLangSharing:!0})}),w&&(0,o.jsx)("div",{id:"status-share-container",children:(0,o.jsx)(z.v,{pageName:e,label:d.value("details.cta-social-share"),idPrefix:"page-status",social:O,schedule:r,course:l,storeState:a,pageUrl:n})}),(0,o.jsx)(P,{links:R,clickHandlers:c,schedule:r,openSMSModal:u}),k&&A&&(0,o.jsx)(E,{url:A.url,text:A.text,onClick:A.onClick})]})}),!k&&t&&(0,o.jsx)(v,{heading:d.value("businessPromo.promo-event-headline"),description:d.value("businessPromo.promo-event-content"),link:{text:d.value("businessPromo.promo-event-cta"),url:d.compileValue("businessPromo.promo-event-url",{locale:S,storeNum:_})}})]})})}componentDidUpdate(e){let{errorAnalyticsDone:t,confirmationAnalyticsDone:s}=this.state,{smsParamFound:a,openSMSModal:i,reservation:r,reservationUpdateTime:o,schedule:l,course:n,groupBookingInformation:u}=this.props,p=!e.reservation&&r,h=!c()(e.reservation,r),g=!d()(r),m=r&&r.isGuestRegistration||!1,E=new X.qD;if((null==u?void 0:u.isGroupBooking)&&r&&!s&&this.setState({confirmationAnalyticsDone:!0},()=>{this.confirmationAnalyticsTracking(m,n,l)}),r&&!t){let e=this.pageStatusMappings.getMappings(this.props);e&&e.markForAnalytics&&e.isErrorStatus&&this.setState({errorAnalyticsDone:!0},()=>{this.errorAnalyticsTracking(e.headline)})}E&&r&&(p||h)&&g&&setTimeout(()=>{E.windowScrollToY(0,{withAnimation:!0,duration:600}),this.state.isDisplayed||this.setState({isDisplayed:!0}),a&&!m&&i()},this.ANIMATION_TIMEOUT)}UNSAFE_componentWillReceiveProps(e){c()(e.reservation,this.props.reservation)||this.setFocus()}constructor(e){super(e),this.ANIMATION_TIMEOUT=1e3,this.ACCESSIBILITY_SET_FOCUS_DELAY=650;let{components:t,i18n:s,configManager:a,currentLocale:i}=this.props;this.pageStatusMappings=new K(s,a,i,t),this.state={isDisplayed:!1,errorAnalyticsDone:!1,confirmationAnalyticsDone:!1},this.focusElement=(0,l.createRef)()}}(0,r.__decorate)([g.m],Q.prototype,"removeTabIndexAttribute",null)},59323:function(e,t,s){"use strict";s.d(t,{y:function(){return a}});let a={getTextReminders:{"data-analytics-title":"open - get text message reminders","data-analytics-click":"prop3:open - get text message reminders","data-analytics-intrapage-link":""},keepMeNotified:{"data-analytics-title":"keep me updated - submit","data-analytics-click":"prop3:keep me updated - submit","data-analytics-intrapage-link":""},privacyPolicy:{"data-analytics-title":"visit apple privacy policy"},close:{"data-analytics-title":"close - sms reminders modal","data-analytics-click":"prop3:close - sms reminders modal","data-analytics-intrapage-link":""},retry:{"data-analytics-title":"retry","data-analytics-click":"prop3:retry","data-analytics-intrapage-link":""}}},85175:function(e,t,s){"use strict";s.d(t,{v:function(){return u}});var a=s(57437),i=s(2265),r=s(40125),o=s(11828),l=s(17346),n=s(84772),c=s.n(n);s(21597);let u=e=>{let{pageName:t,label:s,social:n,schedule:u,course:d,storeState:p,pageUrl:h,idPrefix:g,resetAccessibilityFocus:m,className:E,size:S}=e,_=(0,l.Z)(),[v,R]=(0,i.useState)(!1);if(!n||!n.length||!u||!d||!p)return null;let k=c()("spread-the-word",E,{large:S===r.Ph.large});return(0,a.jsxs)("div",{className:k,children:[!v&&(0,a.jsx)(r.zx,{onClick:()=>{R(!0),m&&m()},size:S,ariaLabel:_.value("details.cta-social-share"),children:s}),v&&(0,a.jsx)(o.S,{pageName:t,idPrefix:g,social:n,schedule:u,course:d,store:p,pageUrl:h,autoFocus:!0})]})}},95942:function(){},21597:function(){},60558:function(e){e.exports={"page-title__header":"WalletPass_page-title__header__caTRd","page-title__header-description":"WalletPass_page-title__header-description__TgtIC","typography-headline-description":"WalletPass_typography-headline-description__ELUkc","page-title__location-modal":"WalletPass_page-title__location-modal__C9eSX","image-scale":"WalletPass_image-scale__Oihi3","image-scale-hero":"WalletPass_image-scale-hero___VLpG",ie:"WalletPass_ie__er0RU","custom-viewport":"WalletPass_custom-viewport__70D7k","add-to-apple-wallet":"WalletPass_add-to-apple-wallet__qml9r",fadeInKeyframes:"WalletPass_fadeInKeyframes__qAsSk",hideThenFadeInKeyframes:"WalletPass_hideThenFadeInKeyframes__Niaep",hideSignUpButton:"WalletPass_hideSignUpButton__4gww5",delayedFadeInKeyframes:"WalletPass_delayedFadeInKeyframes__OV4Vh"}}}]);