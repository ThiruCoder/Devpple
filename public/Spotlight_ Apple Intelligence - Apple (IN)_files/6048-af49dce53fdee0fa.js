(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6048],{99376:function(e,t,n){"use strict";var r=n(35475);n.o(r,"notFound")&&n.d(t,{notFound:function(){return r.notFound}}),n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}}),n.o(r,"useSelectedLayoutSegment")&&n.d(t,{useSelectedLayoutSegment:function(){return r.useSelectedLayoutSegment}})},97038:function(e,t,n){"use strict";n.r(t),n.d(t,{FooterBreadcrumbs:function(){return l}});var r=n(57437),a=n(31642),o=n(13947),u=n(82099),c=n(93213);let s="Today at Apple",l=e=>{let{stageRootPath:t}=e,{title:n,rootTitle:l,params:i}=(0,o.Z)(),d=(0,u.Z)(),f={stageRootPath:t,...(null==i?void 0:i.storeLocation)&&{storeLocation:null==i?void 0:i.storeLocation},...(null==i?void 0:i.marketSlug)&&{marketSlug:null==i?void 0:i.marketSlug}},m=""===t||"/cn"===t?"/":"".concat(t,"/");return(0,r.jsxs)("nav",{className:"ac-gf-breadcrumbs","aria-label":"Breadcrumbs",children:[(0,r.jsxs)("a",{href:m,className:"home ac-gf-breadcrumbs-home",children:[(0,r.jsx)("span",{className:"ac-gf-breadcrumbs-home-icon"}),(0,r.jsx)("span",{className:"ac-gf-breadcrumbs-home-label",children:"Apple"})]}),(0,r.jsx)("div",{className:"ac-gf-breadcrumbs-path",children:(0,r.jsxs)("ol",{className:"ac-gf-breadcrumbs-list",children:[!l&&n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{className:"ac-gf-breadcrumbs-item",children:(0,r.jsx)(a.N,{className:"ac-gf-breadcrumbs-link",href:d.getPageRoute(c.q.DISCOVER),routeParams:f,includeLocationParameter:!0,children:s})}),(0,r.jsx)("li",{className:"ac-gf-breadcrumbs-item",children:n})]}),!n&&(0,r.jsx)("li",{className:"ac-gf-breadcrumbs-item",children:l||s})]})})]})}},98695:function(e,t,n){"use strict";n.r(t),n.d(t,{FooterSosumi:function(){return u}});var r=n(57437),a=n(99376),o=n(17346);let u=()=>{let e=(0,o.Z)(),t=(0,a.useSelectedLayoutSegment)(),n=(0,a.usePathname)(),u=e.getI18nData().global,c=[];return("feature"===t&&(null==n?void 0:n.endsWith("today-at-home/"))&&c.push(e.value("feature.sosumi-features-by-model")),u&&Object.keys(u).sort().forEach(e=>{e.match(/site-sosumi-[0-9]/g)&&u[e]&&c.push(u[e])}),c.length)?(0,r.jsx)("div",{className:"ac-gf-sosumi",children:(0,r.jsx)("ul",{dangerouslySetInnerHTML:{__html:c.join("")}})}):null}},31642:function(e,t,n){"use strict";n.d(t,{N:function(){return h}});var r=n(57437),a=n(74308),o=n.n(a),u=n(2265),c=n(84772),s=n.n(c),l=n(27648),i=n(59128),d=n.n(i),f=n(47965),m=n(38452);let h=e=>{var t;let{className:n,disabled:a,match:c,routeParams:i,isButton:h,includeNearbyParameter:g=!0,includeLocationParameter:b,href:S="#",focus:p,store:v,activeClassName:R,children:N,tagProps:L,ariaLabel:y,ariaLabelledBy:E,id:O,active:P,onBlur:_,onClick:x}=e,j=(0,f.Z)(),k=(0,u.useRef)(null==j?void 0:j.getNearbyFlag()),U=(0,u.useRef)(null==j?void 0:j.getSelectedMarket()),C=(0,u.useRef)((null==j?void 0:j.getSelectedStoreLocation())||v),w=(0,u.useRef)(null),T=n||a?s()(n,a&&o()["today-link--disabled"]):n||"";(null==i?void 0:i.stageRootPath)&&(i.stageRootPath=null===(t=i.stageRootPath)||void 0===t?void 0:t.replace(/^\/|\bcn\b/g,""));let A=(0,u.useMemo)(()=>({to:function(e){if(!(e instanceof Object)){let t=e.lastIndexOf("/");if(-1!==t){let n=e.indexOf("?",t);if(-1!==n&&n!==e.length-1){let t=e.substr(0,n),r=e.substr(n+1);e={pathname:t},r&&(e.search="?".concat(r))}else e={pathname:e}}else e={pathname:e}}return e}(S),params:Object.fromEntries(Object.entries({...null==c?void 0:c.params,...i}).map(e=>{let[t,n]=e;return[t,encodeURIComponent(n)]}))}),[S,null==c?void 0:c.params,i]),[B,D]=(0,u.useState)(A),{to:F,params:I}=B;function M(e){p&&e&&e.current&&e.current.focus()}function Y(e){a||"function"!=typeof _||_(e)}function H(e){a||"function"!=typeof x||x(e)}let Z=(0,u.useCallback)((e,t)=>{if(U.current)t.storeLocation="area",t.marketSlug=U.current;else if(C.current){if(t.storeLocation=C.current.slug,g&&k.current){if(e.search){let t=new URLSearchParams(e.search);t.set(m.az.NEAR_BY,"true"),e.search="?".concat(t.toString())}else e.search="?".concat([m.az.NEAR_BY],"=true")}else if(!k.current){let t=new URLSearchParams(e.search);if(t.has(m.az.NEAR_BY)){t.delete(m.az.NEAR_BY);let n=t.toString();e.search=n?"?".concat(n):""}}}return{to:e,params:t}},[g]);return((0,u.useEffect)(()=>{b?D(Z(A.to,A.params)):D(A)},[S,i,null==c?void 0:c.params,A,b,Z]),(0,u.useEffect)(()=>{M(w)},[]),(0,u.useEffect)(()=>{M(w)}),(0,u.useEffect)(()=>{if(b){let e=()=>{k.current=null==j?void 0:j.getNearbyFlag(),U.current=null==j?void 0:j.getSelectedMarket(),C.current=(null==j?void 0:j.getSelectedStoreLocation())||v,D(Z(F,{...I,marketSlug:U.current,storeLocation:C.current}))};return window.addEventListener(f.Y,e),D(Z(F,I)),()=>window.removeEventListener(f.Y,e)}},[]),(0,m.Vf)(F.pathname,I).match(/^(\/|\/[\w-]+\/(?:[\w-]+\/)?)today\/?.*/g))?function(e,t){let n=s()(t,P&&R,P&&o()["today-link--disabled"]),a=d()(e);return"string"!=typeof a&&(a.pathname=(0,m.Vf)(a.pathname,I)),(0,r.jsx)(l.default,{href:a,id:O,ref:w,className:n,"aria-label":y,"aria-labelledby":E,onBlur:Y,onClick:H,prefetch:!1,...L,children:N})}(F,T):h?(0,r.jsx)("button",{ref:w,id:O,disabled:a,"aria-disabled":!!a||void 0,"aria-label":y,"aria-labelledby":E,className:T,onBlur:Y,onClick:H,...L,children:N}):(0,r.jsx)("a",{ref:w,id:O,"aria-disabled":!!a||void 0,"aria-label":y,"aria-labelledby":E,className:T,href:S,onBlur:Y,onClick:function(e){("#"===e.currentTarget.getAttribute("href")||a)&&e.preventDefault(),H(e)},...L,children:N})}},91259:function(e,t,n){"use strict";n.d(t,{BreadcrumbContext:function(){return o},Provider:function(){return u}});var r=n(57437),a=n(2265);let o=(0,a.createContext)({title:null,setTitle:e=>null,rootTitle:void 0,params:void 0,setParams:e=>void 0});function u(e){let{children:t,rootTitle:n}=e,[u,c]=(0,a.useState)(null),[s,l]=(0,a.useState)(void 0);return(0,r.jsx)(o.Provider,{value:{title:u,setTitle:c,rootTitle:n,params:s,setParams:l},children:t})}},13947:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2265),a=n(91259);function o(){return(0,r.useContext)(a.BreadcrumbContext)}},91664:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});let r=e=>/(\.cn(:(\d{4,5}))?([.|/]|$))/.test(e)},38452:function(e,t,n){"use strict";n.d(t,{EI:function(){return s},az:function(){return c},W9:function(){return H},LV:function(){return O},ZC:function(){return M},py:function(){return Y},$r:function(){return j},d5:function(){return P},ZA:function(){return V},ce:function(){return U},ai:function(){return T},d_:function(){return F},xf:function(){return k},c1:function(){return C},ni:function(){return A},Te:function(){return Z},_V:function(){return x},Y2:function(){return w},Vf:function(){return _},Eo:function(){return B},K:function(){return E}});var r,a,o,u,c,s,l,i=n(76503),d=n(70764),f=n.n(d),m=n(25614),h=n.n(m),g=n(64879),b=n.n(g),S=n(84432),p=n.n(S);(r=u||(u={})).CN="CN",r.US="US";var v=n(91664),R=n(27485),N=n(44521),L=n(25566);let y=()=>(0,N.j)()?window.location.origin:L.env.HOST;(a=c||(c={})).NEAR_BY="nearby",a.ERROR="error",a.USE_MY_LOCATION="useMyLocation",a.SHOW_HERO="showHero",a.STATUS="status",a.STORE_NUMBER="sn",a.SELECTED_STORE="selected_store",a.AUTH="auth",a.SMS="sms",(o=s||(s={})).COURSE_NOT_FOUND="course-not-found",o.SESSION_NOT_FOUND="session-not-found",o.SCHEDULE_NOT_FOUND="schedule-not-found",o.HOLD_SESSION_FULL="hold-session-full",(l||(l={})).THANK_YOU="thankyou";let E={...s,...l},O=(e,t,n)=>(n=n||new URLSearchParams,t&&n.set("sn",t),"".concat(e,"?").concat(n.toString())),P=()=>{let e=I();if(!e)return;let{currentParams:t}=e;return t.get("error")},_=(e,t)=>{try{let n=(0,i.MY)(e,{validate:!1}),{stageRootPath:r}=t;return r?"/"===r[0]&&(t.stageRootPath=r.slice(1)):delete t.stageRootPath,decodeURIComponent(n(t))||"/"}catch(t){return e}},x=(e,t)=>f()(e)?(0,v.D)(t)?"/cn":"":/^\//gi.test(e)?e:"/".concat(e),j=(e,t)=>{let n=e.getMainSiteUrl(t);return(0,v.D)(n)?"":t},k=e=>e.indexOf("?")>=0?e.split("?")[0]:e,U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.search,n=RegExp("[\\?&]"+(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},C=e=>!!(e&&"area"!==e),w=e=>{let t=new URLSearchParams(e),n={};for(let e of t.entries())n[e[0]]=e[1];return n},T=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y(),r=function(e){let t=e.getProperty("app.env"),n=e.getProperty("app.icserver");return[...e.getOrigins()||[],...e.getProperty("app.localOrigins")||[]].map(e=>Object.keys(e).reduce((r,a)=>(r[a]=function(e){let{uri:t,env:n,icserver:r}=e;return t.replace("{env}",n).replace("{icserver}",r||"")}({uri:e[a],env:t,icserver:n}),r),{}))}(t),a=r.find(e=>Object.values(e).find(e=>e===n))||r[0];return a[e]||a[u.US]},A=e=>-1!==new URL(e).hostname.indexOf("apple.com"),B=(e,t,n)=>{try{window.history.replaceState(null,document.title,e)}catch(r){let e="ERROR: ".concat(n," - ").concat(r);t.error(e)}},D=(e,t)=>(e.has(t)&&e.delete(t),e),F=(e,t)=>{let n=t.toString(),r=!(0,R.fp)(n),a="".concat(e,"?").concat(n);return r?a:e},I=()=>{if(!(0,N.j)())return;let e=new URL(location.href),t=e.search;return{currentParams:new URLSearchParams(t),initialParams:t.startsWith("?")?t.substring(1):t,urlWithoutParams:"".concat(e.origin).concat(e.pathname)}},M=e=>{let t=I();if(!t)return;let{currentParams:n,urlWithoutParams:r}=t;return F(r,D(n,e))},Y=e=>{let t=M("sn");t&&B(t,e,Y.name)},H=(e,t)=>{let n=I();if(!n)return;let r=e.storeNum,{currentParams:a,urlWithoutParams:o}=n;B(O(o,r,a),t,H.name)},Z=(e,t)=>{let n=new URLSearchParams(e);return n.delete("showHero"),Object.keys(t).forEach(e=>{let r=t[e],a=p()(r)||b()(r);!(!a&&h()(r))||(a=!r.length)||(r=r.join(",")),a?n.delete(e):n.set(e,r)}),n.toString()},V=(e,t,n)=>{let r=n.getFeatureSupport("isDesktop"),{origin:a,pathname:o}=new URL(r?t.getExternalLink("appStorePagesMac"):t.getExternalLink("appStorePagesIOS")),u=_(o,{countryCode:e.isoCountryCode.toLowerCase()}),c=e.id.replace(/_/g,"-").toLowerCase();return"nl-be"===c?c="nl-nl":"fr-be"===c&&(c="fr-fr"),"".concat(a).concat(u,"?mt=").concat(r?12:8,"&l=").concat(c)}},74308:function(e){e.exports={"today-link--disabled":"TodayLink_today-link--disabled__dJmNs"}}}]);